<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>吃啥子</title>
    <link rel="stylesheet" href="css/index.css?v=4" type="text/css" />

    <script type="text/javascript" src="jquery.js"></script>
  </head>
  <body>
    <div id="b1" class="background-style"></div>
    <div id="b2" class="background-style" style="display: none"></div>
    <div>
      <div class="main">
        <img class="mainimg" src="img/chishazi.png">
      </div>
      <div id="bottom_layer">
        <p class="lh">
          <a class="home-color" href="https://www.chishazi.club" target="_blank">吃啥子 chishazi.club</a>
        </p>
        <p class="lh">
          <a class="text-color" href="https://github.com/PISERERER/ecs-web" target="_blank">GitHub</a>
        </p>
        <p class="lh">
          <a class="text-color" href="https://beian.miit.gov.cn" target="_blank">京ICP备2021023315号-1</a>
        </p>
        <p class="lh">
          <a class="text-color" href="disclaimer/index.html" target="_blank">免责声明</a>
        </p>
      </div>
    </div>
  </body>
  <script>
    // var days = parseInt((new Date() - new Date('2019-08-07'))/(24*60*60*1000)) + 1;
    console.log("version 0.0.2")

    var colors = ["#FF000022", "#FF7F0022", "#FFFF0022", "#00FF0022", "#00FFFF22", "#0000FF22", "#8B00FF22"];
    var len = colors.length;
    var step = parseInt(100/len);
    var index = 0;

    var bArr = ["b1", "b2"];
    var curShow = 0;
    var speed = 5000;

    function change() {
      index = ++index % 7;
      var css = "linear-gradient(to top left";
      for (let i = 0; i < len; i++) {
        css += ", " + colors[(i + index) % 7] + " " + (step * i) + "%";
      }
      css += ")";

      curShow = ++curShow % 2;
      var hide = (curShow + 1) % 2;
      $("#" + bArr[curShow]).css("background", css);
      $("#" + bArr[curShow]).fadeIn(speed);
      $("#" + bArr[hide]).fadeOut(speed);
      setTimeout(function () {
        change()
      }, speed + 50);
    }
    change();

  </script>
</html>
