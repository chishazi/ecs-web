<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>吃啥子</title>
    <link rel="stylesheet" href="css/index.css?v=5" type="text/css" />

    <script type="text/javascript" src="jquery.js"></script>
  </head>
  <body>
    <div id="bg1" class="background-style"></div>
    <div id="bg2" class="background-style" style="display: none"></div>
    <div>
      <div class="main">
        <img class="mainimg" src="img/chishazi.png">
      </div>
      <div id="bottom_layer">
        <p class="lh">
          <a class="home-color" href="https://www.chishazi.club" target="_blank">吃啥子 chishazi.club</a>
        </p>
        <p class="lh">
          <a class="text-color" href="https://github.com/PISERERER/ecs-web" target="_blank">GitHub</a>
        </p>
        <p class="lh">
          <a class="text-color" href="https://beian.miit.gov.cn" target="_blank">京ICP备2021023315号-1</a>
        </p>
        <p class="lh">
          <a class="text-color" href="disclaimer/index.html" target="_blank">免责声明</a>
        </p>
      </div>
    </div>
  </body>
  <script>
    // var days = parseInt((new Date() - new Date('2019-08-07'))/(24*60*60*1000)) + 1;
    console.log("version 0.0.3 beta")

    var colors = [
      "#FF0000"
      , "#FF7F00"
      , "#FFFF00"
      , "#00FF00"
      , "#00FFFF"
      , "#0000FF"
      , "#8B00FF"
    ];
    var opacity = "11";
    var len = colors.length;
    var step = parseInt(100/len);

    var bgShow = "bg1";
    var bgHide = "bg2";
    var speed = 5000;

    function change() {
      colors.sort(() => Math.random() - 0.5);
      var css = "linear-gradient(to top left ";
      for (let i = 0; i < len; i++) {
        css += ", " + colors[i] + opacity + " " + (step * i) + "%";
      }
      css += ")";

      [bgShow, bgHide] = [bgHide, bgShow];
      $("#" + bgShow).css("background", css);
      $("#" + bgShow).fadeIn(speed);
      $("#" + bgHide).fadeOut(speed);
      setTimeout(function () {
        change()
      }, speed + 50);
    }
    change();

  </script>
</html>
